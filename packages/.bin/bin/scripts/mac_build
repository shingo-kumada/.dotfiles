#!/bin/bash

# Abort the program if an error occurs during script execution
set -e

cd ~

### Homebrew install ###
if [ ! -f /usr/local/bin/brew ]; then
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi

brew bundle -v --file=~/dotfiles/Brewfile

stow -v -d ./dotfiles/packages -t ~ zsh tmux neovim

### change login shell to zsh ###
chsh -s "$(command -v zsh)" "${USER}"
exec $SHELL -l